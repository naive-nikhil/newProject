---
// Astro Component Frontmatter
// Define the data array for the dynamic slideshow content.
const slides = [
  {
    imageTag: "

[Image of Testimonial Icon 2]
",
    quote: "Create a Story",
    detail: "Shaping narratives that connect deeply with your audience.",
    bgColor: "bg-[#d3ecfd]", // Light Blue
    name: "Storyteller",
    isHidden: false, // First slide is visible
  },
  {
    imageTag: "

[Image of a positive financial chart]
",
    quote: "“Using Stable, we saw an immediate 15% reduction in our EC2 spend.”",
    detail: "Engineering Manager, @ CloudCo",
    bgColor: "bg-[#f5f4fb]", // Light Lavender
    name: "Jane Doe",
    isHidden: true, // Subsequent slides are hidden initially
  },
];
---

<style>
  /*
    Responsive CSS Styles (Original code's media queries)
    These styles control the size and alignment of the <h2> element.
  */
  .mainDiv h2 {
    font-size: 1.5rem;
    line-height: 2.25rem;
    text-align: center;
  }

  @media (min-width: 780px) {
    .mainDiv h2 {
      font-size: 2.75rem;
      line-height: 4.25rem;
      text-align: left;
    }
  }
  @media (max-width: 990px) {
    .imageTesti {
      /* Hides the image column on medium/small screens */
      display: none;
    }
  }

  @media (min-width: 1200px) {
    .mainDiv h2 {
      font-size: 2rem;
    }
  }

  @media (min-width: 1400px) {
    .mainDiv h2 {
      font-size: 3.7rem;
    }
  }
</style>

<div
  class="w-screen flex justify-center"
  data-scroll-speed="1"
  data-scroll
  data-scroll-offset="100"
>
  <div class="bg-white w-[80%] py-12 font-sans mainDiv max-w-7xl px-4 md:px-8">
    <h2 class="text-[#474747] mb-10 font-bold">Our Roles</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16">
      <p class="text-xl text-gray-700 leading-relaxed font-light">
        For any brand or business, **storytelling** is the foundation of brand
        building.
      </p>

      <p class="text-xl text-gray-700 leading-relaxed font-light">
        But with projects to deliver and timelines to keep in check, who has got
        your back to keep scanning and saving on what you dish out every month?
        **Stable.**
      </p>
    </div>
  </div>
</div>

<div
  class="font-sans py-10 lg:py-20"
  data-scroll-speed="1"
  data-scroll
  data-scroll-offset="100"
>
  <div class="flex items-center justify-center">
    <div class="w-full max-w-7xl px-4 md:px-8">
      
      {slides.map((slide) => (
        <div
          class={`
            flex flex-col md:flex-row slide-item 
            shadow-2xl rounded-2xl overflow-hidden transition-opacity duration-500
            ${slide.isHidden ? 'hidden' : 'flex'}
          `}
          style={slide.isHidden ? 'display: none;' : ''}
        >
          {/* Image/Icon Block (Hidden on smaller screens by CSS) */}
          <div
            class={`
              flex imageTesti items-center justify-center 
              p-8 md:p-16 mr-6 ${slide.bgColor} 
              rounded-2xl w-full md:w-1/3 min-h-[250px]
            `}
          >
            {slide.imageTag} 
          </div>

          {/* Quote/Text Block */}
          <div
            class={`
              flex flex-col justify-center 
              p-8 md:p-16 ${slide.bgColor} 
              rounded-2xl w-full md:w-2/3
            `}
          >
            <blockquote
              class="text-3xl sm:text-4xl font-normal text-gray-800 leading-snug mb-6"
            >
              {slide.quote}
            </blockquote>
            <div class="text-sm">
              <p class="font-semibold text-blue-700 mb-0">
                {slide.name}
              </p>
              <p class="text-sm text-gray-600">
                {slide.detail}
              </p>
            </div>
          </div>
        </div>
      ))}
      
    </div>
  </div>

  <div class="flex space-x-2 mt-8 max-w-7xl mx-auto px-4 md:px-8">
    <button
      class="w-10 h-10 prev flex items-center justify-center bg-black text-white rounded-full transition-colors hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="w-6 h-6"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M15 19l-7-7 7-7"></path>
      </svg>
    </button>
    <button
      class="w-10 h-10 next flex items-center justify-center bg-black text-white rounded-full transition-colors hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="w-6 h-6"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 5l7 7-7 7"></path>
      </svg>
    </button>
  </div>
</div>

<script src="../scripts/slideshow.js"></script>