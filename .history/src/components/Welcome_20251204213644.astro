---
import technovel from "../assets/technovel_logo.png";
import { Icon } from "astro-icon/components";
---

---
<!--
  Improved Hero / Landing section.
  Highlights:
  - Cleaner responsive typography and spacing
  - Soft diagonal gradient background
  - Multiple layered blobs with different sizes, colors and depths
  - Subtle floating animation via CSS + GSAP ScrollTrigger parallax
  - Accessible button group with primary CTA and secondary link
  - Image card with glassmorphism overlay and subtle caption
-->

<style>
  /* Fix for nested media queries (original file had a nested @media which is invalid) */
  @media (min-width: 780px) {
    .mainDiv h2 {
      font-size: 2.75rem;
      line-height: 4.25rem;
    }
  }

  @media (min-width: 1200px) {
    .mainDiv h2 {
      font-size: 2rem;
    }
  }

  /* extras */
  .blob {
    will-change: transform, opacity;
    pointer-events: none;
  }

  /* tiny utility: smooth image reveal */
  .reveal {
    transform-origin: center;
    transform: translateY(14px) scale(0.99);
    opacity: 0;
    transition: all 700ms cubic-bezier(0.2, 0.9, 0.3, 1);
  }

  .reveal.show {
    transform: translateY(0) scale(1);
    opacity: 1;
  }

  /* decorative diagonal lines (subtle) */
  .diagonal::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.03) 0 20%,
      transparent 21% 100%
    );
    mix-blend-mode: overlay;
    pointer-events: none;
  }
</style>

<div
  id="hero-root"
  class="relative overflow-hidden bg-gradient-to-br from-sky-50 via-white/60 to-sky-100 diagonal"
>
  <!-- large background blur for depth -->
  <div
    class="absolute inset-0 -z-10 bg-[linear-gradient(135deg,#e6f6ff_0%,#ffffff_45%,#e8f0ff_100%)]"
  >
  </div>

  <!-- blobs (layered) -->
  <div
    aria-hidden
    class="blob absolute -left-10 top-6 w-[34vw] h-[34vw] md:w-[26vw] md:h-[26vw] lg:w-[28vw] lg:h-[28vw] rounded-full bg-[#047bca] opacity-10 blur-3xl transform-gpu"
  >
  </div>
  <div
    aria-hidden
    class="blob absolute -right-8 -top-4 w-[22vw] h-[22vw] md:w-[18vw] md:h-[18vw] lg:w-[20vw] lg:h-[20vw] rounded-full bg-[#7dd3fc] opacity-12 blur-2xl transform-gpu"
  >
  </div>
  <div
    aria-hidden
    class="blob absolute left-1/2 -bottom-10 -translate-x-1/2 w-[70vw] h-[70vw] md:w-[50vw] md:h-[50vw] rounded-full bg-[#c7f0ff] opacity-6 blur-3xl transform-gpu"
  >
  </div>

  <div class="max-w-7xl mx-auto px-6 lg:px-12 py-12 lg:py-20">
    <header class="flex items-center justify-between mb-8">
      <div class="flex items-center gap-3">
        <img src={technovel.src} alt="Technovel logo" class="h-10 w-auto" />
        <span class="text-slate-700 font-semibold">Technovel</span>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm text-slate-600">
        <a class="hover:text-slate-800" href="#">Features</a>
        <a class="hover:text-slate-800" href="#">Pricing</a>
        <a class="hover:text-slate-800" href="#">Contact</a>
      </nav>
    </header>

    <main class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-center">
      <!-- left: headline + CTA -->
      <section class="lg:col-span-6 z-30 mainDiv">
        <h1
          class="text-3xl sm:text-4xl md:text-5xl lg:text-4xl leading-tight font-extrabold text-slate-900 max-w-xl mx-auto lg:mx-0 text-center lg:text-left"
        >
          Next‑Gen <span
            class="bg-clip-text text-transparent bg-gradient-to-r from-[#006ab2] to-[#013456]"
            >Digital Solutions</span
          >
        </h1>

        <p
          class="mt-4 text-slate-600 max-w-lg mx-auto lg:mx-0 text-center lg:text-left"
        >
          We design delightful experiences, build performant products, and ship
          reliable systems that scale. From brand-forward UI to robust backend
          engineering — let&apos;s build something memorable.
        </p>

        <div
          class="mt-6 flex flex-col sm:flex-row gap-3 items-center justify-center lg:justify-start"
        >
          <a
            href="#"
            class="inline-flex items-center gap-3 px-6 py-3 rounded-lg bg-gradient-to-r from-[#006ab2] to-[#013456] text-white font-semibold shadow-lg shadow-[#006ab2]/20 hover:scale-105 transform transition"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              viewBox="0 0 20 20"
              fill="currentColor"
              aria-hidden
            >
              <path
                d="M10 3a1 1 0 011 1v6h6a1 1 0 110 2h-6v6a1 1 0 11-2 0v-6H3a1 1 0 110-2h6V4a1 1 0 011-1z"
              ></path>
            </svg>
            Join Now
          </a>

          <a href="#learn" class="text-sm text-slate-700 hover:underline"
            >Learn more →</a
          >
        </div>

        <ul
          class="mt-6 flex items-center gap-6 justify-center lg:justify-start text-xs text-slate-500"
        >
          <li>
            Trusted by <strong class="text-slate-700">120+</strong> companies
          </li>
          <li>•</li>
          <li>99.9% uptime</li>
        </ul>
      </section>

      <!-- right: image card -->
      <aside
        class="lg:col-span-6 flex items-center justify-center lg:justify-end"
      >
        <figure
          class="relative w-full max-w-[1020px] lg:max-w-[680px] rounded-2xl shadow-2xl overflow-hidden bg-white/30 backdrop-blur-sm border border-slate-100"
        >
          <!-- image with overlay -->
          <img
            id="hero-image"
            class="w-full h-[48vh] sm:h-[52vh] md:h-[60vh] object-cover reveal"
            src="https://www.sivilsayfalar.org/wp-content/uploads/2020/01/7e86ee8cf65b4e7eb1979f90d557af6a-e1578640341576.jpg"
            alt="Dashboard preview"
          />

          <figcaption
            class="absolute left-6 bottom-6 bg-gradient-to-r from-white/40 to-white/10 backdrop-blur rounded-xl px-4 py-2 text-xs text-slate-700 border border-white/30"
          >
            Product preview • <span class="font-medium">Modern dashboard</span>
          </figcaption>
        </figure>
      </aside>
    </main>
  </div>
</div>

<script type="module" defer>
  import gsap from "https://cdn.jsdelivr.net/npm/gsap@3.12.5/index.js";
  import { ScrollTrigger } from "https://cdn.jsdelivr.net/npm/gsap@3.12.5/ScrollTrigger.min.js";

  gsap.registerPlugin(ScrollTrigger);

  // helper safe selectors
  const blobs = gsap.utils.toArray(".blob");
  const hero = document.querySelector("#hero-root");
  const img = document.getElementById("hero-image");

  // image reveal when in view
  if (img) {
    const io = new IntersectionObserver(
      (entries) => {
        entries.forEach((e) => {
          if (e.isIntersecting) img.classList.add("show");
        });
      },
      { threshold: 0.2 }
    );
    io.observe(img);
  }

  if (blobs.length && hero) {
    // Parallax the blobs on scroll for depth
    blobs.forEach((b, i) => {
      const depth = (i + 1) * 40; // different travel distances
      gsap.to(b, {
        y: () => depth,
        rotation: () => (i % 2 ? 8 : -8),
        ease: "none",
        scrollTrigger: {
          trigger: hero,
          start: "top top",
          end: "bottom top",
          scrub: true,
        },
      });
    });
  } else {
    console.warn("GSAP: hero or blobs not found — animation will be skipped.");
  }
</script>
